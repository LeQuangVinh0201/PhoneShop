<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="ISO-8859-1">
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"/>
<meta name="viewport" content="width=device-width, initial-scale=1">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.1/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.7/dist/umd/popper.min.js"></script>

<link rel="stylesheet" href="/bootstrap.css">
<script src="/bootstrap.js"></script>
<link rel="stylesheet" type="text/css" href="/CustomeCss/MainPage.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<title>Insert title here</title>
<style>
html,body {
  scroll-behavior: smooth;
}
ul {
  list-style-type: none;
}
</style>
</head>
<body>
<div style="background-color: #f4f4f4;">
  <div id="header" class="container-fluid text-white">
    <div class="row" style="padding: 0;">
        <div class="col-2" style="padding:5px">
        	<img src="/LogoImage/newlogo.png" id="qvLogo"  width="100" height="70" style="cursor: pointer; border-radius:15px;">
        </div>
        <div class="col-6 d-flex justify-content-center pl-4">
          <input type="text" id="nameSearch" placeholder=" Please enter product's name to search" style="width: 80%; height: 50%;margin-top: 20px; margin-left:90px; border-radius: 10px;">
          <button type="button" id="searchByNameBtn" class="btn btn-danger" style="width:50px ; height: 50%;margin-top: 20px;"><i class="fa fa-search" aria-hidden="true"></i></button>
        </div>
        <div class="col-4 d-flex justify-content-center">
          <div class="row container ml-4">
            <div class="col-4 text-center"  id="cart" style="position: relative;">
              <i class="fa fa-shopping-cart pt-3" aria-hidden="true" style="font-size: 18px;"></i><br>
              <span>Your Cart</span>
              <span class="fs-cartic countTotalCart" th:if="${orderNumber != null}">[[${orderNumber}]] </span>
            </div>
            <div class="col-5 text-center"  id="personAccount">
              <i class="fa fa-user pt-3" aria-hidden="true" style="font-size: 18px;"></i><br>
              <span th:if="${username != null}" id="userName">Hi [[${username}]] !</span>
              <span th:unless="${username != null}" >Login</span>
            </div>
            <div class="col-3 text-center"  id="logoutAccount" th:if="${username != null}">
              <i class="fa fa-sign-out pt-3" aria-hidden="true" style="font-size: 18px;"></i><br>
              <span th:if="${username != null}">Log out</span>
            </div>
          </div>
        </div>
    </div>
  </div>
  
  <div class="container-fluid mt-4 d-flex justify-content-center">
    <nav class="navbar navbar-expand-lg navbar-dark " style="background-color: #00483d; border-radius: 10px; width: 80%;">
      <div class="container-fluid  d-flex justify-content-around" >
        <ul class="navbar-nav">
          <li class="nav-item dropdown" style="padding-left: 50px;"> 
            <a class="nav-link dropdown-toggle text-white" href="#" data-bs-toggle="dropdown">Apple </a> 
            <ul class="dropdown-menu fade-up">
                <li><a class="dropdown-item" href="/user/searchBySeries/iphone14"> iPhone 14 Series</a></li>
                <li><a class="dropdown-item" href="#"> iPhone 13 Series </a></li>
                <li><a class="dropdown-item" href="#"> iPhone 12 Series </a></li>
            </ul>
          </li>
          <li class="nav-item dropdown" style="padding-left: 50px;">
            <a class="nav-link dropdown-toggle text-white" href="#" data-bs-toggle="dropdown">  Samsung  </a>
              <ul class="dropdown-menu fade-up">
                  <li><a class="dropdown-item" href="/user/searchBySeries/galaxyz"> Galaxy Z Series</a></li>
                  <li><a class="dropdown-item" href="/user/searchBySeries/galaxys"> Galaxy S Series </a></li>
                  <li><a class="dropdown-item" href="/user/searchBySeries/galaxya"> Galaxy A Series </a></li>
              </ul>
          </li>
          <li class="nav-item dropdown" style="padding-left: 50px;">
            <a class="nav-link dropdown-toggle text-white" href="#" data-bs-toggle="dropdown">  Xioami  </a>
              <ul class="dropdown-menu fade-up">
                <li><a class="dropdown-item" href="/user/searchBySeries/redmi"> Xiaomi Redmi</a></li>
                <li><a class="dropdown-item" href="/user/searchBySeries/redminote"> Xiaomi Redmi Note </a></li>
              </ul>
          </li>
          <li class="nav-item dropdown" style="padding-left: 50px;">
            <a class="nav-link dropdown-toggle text-white" href="#" data-bs-toggle="dropdown">  Oppo  </a>
              <ul class="dropdown-menu fade-up">
                <li><a class="dropdown-item" href="/user/searchBySeries/findx"> OPPO Find X Series</a></li>
                <li><a class="dropdown-item" href="/user/searchBySeries/reno"> OPPO Reno Series </a></li>
                <li><a class="dropdown-item" href="/user/searchBySeries/oppoa"> OPPO A Series </a></li>
              </ul>
          </li>
          <li class="nav-item dropdown" style="padding-left: 50px;">
            <a class="nav-link dropdown-toggle text-white" href="#" data-bs-toggle="dropdown">  Vivo  </a>
              <ul class="dropdown-menu fade-up">
                <li><a class="dropdown-item" href="/user/searchBySeries/vivov"> Vivo V Series</a></li>
                <li><a class="dropdown-item" href="/user/searchBySeries/vivot"> Vivo T Series </a></li>
                <li><a class="dropdown-item" href="/user/searchBySeries/vivoy"> Vivo Y Series </a></li>
              </ul>
          </li>
          <li class="nav-item dropdown" style="padding-left: 50px;">
            <a class="nav-link dropdown-toggle text-white" href="#" data-bs-toggle="dropdown">  Nokia  </a>
              <ul class="dropdown-menu fade-up">
                <li><a class="dropdown-item" href="/user/searchBySeries/nokia"> Nokia</a></li>
                <li><a class="dropdown-item" href="/user/searchBySeries/nokiaplus"> Nokia Plus </a></li>
              </ul>
          </li>
          <li class="nav-item dropdown" style="padding-left: 50px;">
            <a class="nav-link dropdown-toggle text-white" href="#" data-bs-toggle="dropdown">  Realme  </a>
              <ul class="dropdown-menu fade-up">
                <li><a class="dropdown-item" href="/user/searchBySeries/realmec"> Realme C</a></li>
                <li><a class="dropdown-item" href="/user/searchBySeries/realmecs"> Realme Cs </a></li>
              </ul>
          </li>
        </ul>
      </div> 
     </nav>
  </div>
  
  <!--   Phone Brand -->
  <div class="container-fluid mt-2 d-flex justify-content-center">
    <nav class="navbar navbar-expand-lg navbar-dark " style="background-color:#fbfbfd; border-radius: 10px; width: 80%;">
      <div class="container-fluid  d-flex justify-content-around" >
        <ul class="navbar-nav">
          <li class="nav-item dropdown" style="padding-left: 50px;"> 
            <a class="text-white" href="/user/searchByBrand/apple" >
				<img src="/LogoImage/iPhone-brand.png"  width="80" height="50">            
            </a> 
          </li>
          <li class="nav-item dropdown" style="padding-left: 50px;">
          	<a class=" text-white" href="/user/searchByBrand/samsung">
				<img src="/LogoImage/Samsung-brand.png"  width="80" height="50">            
            </a>
          </li>
          <li class="nav-item dropdown" style="padding-left: 50px;">
          	<a class=" text-white" href="/user/searchByBrand/xiaomi">
				<img src="/LogoImage/Xiaomi-brand.png"  width="80" height="50">            
            </a>
          </li>
          <li class="nav-item dropdown" style="padding-left: 50px;">
          	<a class=" text-white" href="/user/searchByBrand/oppo">
				<img src="/LogoImage/Oppo-brand.png"  width="80" height="50">            
            </a>
          </li>
          <li class="nav-item dropdown" style="padding-left: 50px;">
          	<a class=" text-white" href="/user/searchByBrand/vivo">
				<img src="/LogoImage/Vivo-brand.png"  width="80" height="50">            
            </a>
          </li>
          <li class="nav-item dropdown" style="padding-left: 50px;">
          	<a class=" text-white" href="/user/searchByBrand/nokia">
				<img src="/LogoImage/Nokia-brand.png"  width="80" height="50">            
            </a>
          </li>
          <li class="nav-item dropdown" style="padding-left: 50px;">
          	<a class=" text-white" href="/user/searchByBrand/realme">
				<img src="/LogoImage/Realme-brand.png"  width="100" height="40">            
            </a>
          </li>
        </ul>
      </div> 
     </nav>
  </div>

  <!-- display phones -->
  <div class="mt-2 d-flex justify-content-center " th:object="${telephone}">
      <div class="row container-fluid d-flex justify-content-around" style="width: 1200px;" id="phoneWrap" th:object="${edition}">
		<!--left Side -->
        <div class="col-6 mt-3 phoneItem" style="background-color:#c8d0cf;border:2px solid #c8d0cf;"  >
          <div class="mt-3 d-flex justify-content-center">
            <img id="phonePicture" th:src="@{${'/uploads/' + telephone.pictureUrl}}"  width="550" height="550" style="border-radius: 10px; margin-top: 15px;">
          </div>
        </div>
        
        <!--right Side -->
        <div class="col-6 mt-3 phoneItem" style="background-color:#c8d0cf;border:2px solid #c8d0cf;" >
           	<div  class="mt-1">
        		<span class=" text-left"   style="font-weight:bold; font-size: 30px; color:#cb1c22;font-family: Roboto,sans-serif;">[[${#numbers.formatDecimal(edition.price -edition.discount, 0, 'COMMA', 0, 'POINT')}]] VND</span>
        		<span class="pt-1"  style="font-weight:bold; font-size: 18px; color:grey;font-family: Roboto,sans-serif;"><del>   [[${#numbers.formatDecimal(edition.price, 0, 'COMMA', 0, 'POINT')}]] VND </del></span>
        	</div>
        	<div>
        		<h3 style="color:#005b96">Thông tin chi tiết</h3>
        	</div>
        	<div class="row">
        		<pre style="font-family: 'Numans', sans-serif;font-size: 18px;">[[*{telephone.detail.information}]] </pre>
        	</div>
        	<div class="row">
        		<h3 style="color:#005b96">Khuyến Mãi</h3>
        	</div>
        	<div class="row">
	        	<ul style="font-family: 'Numans', sans-serif;font-size: 18px;">
				  <li>
				  	<i class="fa fa-check-circle" style="color:#04aa6d" aria-hidden="true"></i>
					<span> Giảm đến 20% khi trả thẳng 1 lần</span>				  	
				  </li>
				  <li>
				  	<i class="fa fa-check-circle" style="color:#04aa6d" aria-hidden="true"></i>
					<span> Thu cũ đổi mới trợ giá ngay 15% đến 3 triệu (SmartExchange)</span>
				  </li>
				  <li>
				  	<i class="fa fa-check-circle" style="color:#04aa6d" aria-hidden="true"></i>
					<span> Giảm ngay 20% khi mua sim MBF Siêu Data 1T giá chỉ 184.000đ</span>
				  </li>
				  <li>
				  	<i class="fa fa-check-circle" style="color:#04aa6d" aria-hidden="true"></i>
					<span> Đơn hàng mua Điện thoại/Máy tính bảng/Laptop được tặng 1 PMH 500.000đ</span>
				  </li>
				  <li>
				  	<i class="fa fa-check-circle" style="color:#04aa6d" aria-hidden="true"></i>
					<span> Giảm đến 20% gói bảo hành VIP 1 đổi 1 / Rơi vỡ khi mua kèm máy</span>
				  </li>
				</ul>
        	</div>
        	<div class="row mt-2 d-flex justify-content-center" >
        		<button th:if="${edition.storage > 0}" class="btn btn-danger" type="button" id="buynow" th:attr="onclick=|buyNow('${edition.id}')|">
        			<div><strong>MUA NGAY</strong></div>
        			<span>Giao hàng miễn phí hoặc nhận tại shop</span>
        		</button>
        		<button th:unless="${edition.storage > 0}" class="btn btn-danger" type="button" id="buynow" disabled>
        			<div><strong>HẾT HÀNG</strong></div>
        			<span>Giao hàng miễn phí hoặc nhận tại shop</span>
        		</button>
        	</div>
        	<div class="mt-1 row">
        		<button class="btn btn-primary" type="button" style="width:49.3%;">
        			<div><strong>TRẢ GÓP 0%</strong></div>
        			<span>Duyệt nhanh qua điện thoại</span>
        		</button>
        		<button class="btn btn-primary" type="button" style="width:49.3%;margin-left:8px;">
        			<div><strong>TRẢ GÓP QUA THẺ</strong></div>
        			<span>Visa, Master Card, JCB, AMEX</span>
        		</button>
        	</div>
        	<div style="height:20px;">
        	</div>
        </div>
        
      </div>
		
		<!-- Modal -->
		<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
		  <div class="modal-dialog">
		    <div class="modal-content">
		      <div class="modal-header">
		        <h5 class="modal-title" id="exampleModalLabel">Notification</h5>
		        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
		      </div>
		      <div class="modal-body">
		      	<span style="color:red;">You need to log in first! <i class="fa fa-smile-o" aria-hidden="true" style="font-size: 18px;color:red;"></i></span>
		      </div>
		      <div class="modal-footer">
		        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
		      </div>
		    </div>
		  </div>
		</div>
</div>
      
      
  <div style="height:50px">
  </div>

</div>


<script>
  function buyNow(editionId){
     if($('#userName').length == 0 ){
		$('#exampleModal').modal('toggle');
		return false;
	 }
	
    window.location.href = "/cart/orders/" +editionId;
  }
  
  $(document).ready(function () {
    
	
	$('#qvLogo').click(function(){
    	if($('#userName').length > 0 ){
    		window.location.href = "/loginSuccess";
		}else{
	    	window.location.href = "/";
		}
    });
	
	$('#cart').click(function(e){
		if($('#userName').length == 0 ){
			$('#exampleModal').modal('toggle');
			return false;
		}else{
	    	window.location.href = "/cart/orders";
		}
    });
	
	$('#logoutAccount').click(function(){
    	window.location.href = "/logout" ;
    });
	
	$('#searchByNameBtn').click(function(){
    	window.location.href = "/user/findByName/" + $("#nameSearch").val();
    });
	
	$(document).on('keypress',function(e) {
        if(e.which == 13) {
            $('#searchByNameBtn').trigger('click');
        }
    })
	
	$('#personAccount').click(function(){
    	window.location.href = "/alogin";
    });
    
  })


</script>
</body>
</html>